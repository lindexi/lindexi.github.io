
# 框架设计的想法

如何开发一个框架，或者如何搭建，如何设计一个框架，很难教会一个新人

<!--more-->


<!-- 草稿 -->

## 方便扩展

如果一个框架里面涉及到扩展的功能，例如遇到数据 A 执行 FooA 功能，遇到数据 B 执行 FooB 功能，需要在框架设计的时候，方便业务开发者自行扩展，如加上遇到数据 C 执行 FooC 功能

此时的要点在于，如果新添加一个扩展，在业务端需要写的代码量有多少是业务无关的，接入框架需要的代码量以及需要变更的函数有多少。自然是越少越好

假定设计的框架要求业务开发者在扩展功能的时候，需要写半天的业务无关的用于接入框架的代码，同时需要修改很多个不同项目的很多个函数的代码，求业务开发者心理阴影面积

## 方便静态阅读

静态代码阅读是对于比运行调试阅读代码的方法，通过静态代码可以了解含义以及业务逻辑是比较友好的。这个原则是用来限制新框架开发者使用大量的抽象定义，进行过度设计。假定所有的方法调用等，都进入框架绕一圈出来，所有的传入和传出的参数或执行函数都是抽象的接口定义，或者充满委托，那此时静态代码阅读基本阵亡。如果静态代码阅读不能理解逻辑含义，这就意味着在新增功能或者变更逻辑的时候，将会修改不全面，或者作出了不符合框架预期的行为

也会让新入手此项目的开发者需要投入很多的资源才能开始开发

## 方便调试

如果一个框架没有开放任何调试的入口或调试的方法，那么在使用这个框架的时候，遇到任何的坑都需要将框架参与进入构建来进行调试。这样将会让业务开发者也需要去了解框架本身的逻辑，或者让框架开发者自身需要不断救火

方便调试的实际做法可以是开放一些调试方法，或者有开关进入调试模式，以及输出信息来辅助调试。输出信息包括了异常输出以及日志输出等方式，输出信息是最简洁的方式方便调试





<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。欢迎转载、使用、重新发布，但务必保留文章署名[林德熙](http://blog.csdn.net/lindexi_gd)(包含链接:http://blog.csdn.net/lindexi_gd )，不得用于商业目的，基于本文修改后的作品务必以相同的许可发布。如有任何疑问，请与我[联系](mailto:lindexi_gd@163.com)。