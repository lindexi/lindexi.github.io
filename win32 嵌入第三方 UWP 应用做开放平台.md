# win32 嵌入第三方 UWP 应用做开放平台

微信现在差不多是一个os了，但是微信小程序的模式其实在2000就在 PPT 和 Flash 联手玩过，通过 PPT 带来流量，通过 Flash 实现定制的功能。而现在如果我有一个 win32 的应用，我想要提供给其他小伙伴一个自由开放的平台，那么备受限制和低性能的 HTML 就是第一个被干掉的。其实没有什么比调起一个进程能提供更自由开放的方式了。但是作为第三方的应用，安全性是很大的坑，如何调起一个第三方进程不需要考虑安全性。此时就想到了使用 UWP 的方法

<!--more-->
<!-- 发布 -->

作为一个win32程序，功能是超级强大的，包括重装系统也是很简单的问题。但是开发一个沙盒还是一个安全的沙盒就没那么简单了，不过 UWP 是在沙盒运行的进程，至少安全性比 win32 程序好

我提供的软件给你入口，你提供的软件给我功能，这是多么好玩的套路。其实在微信os要不是为了入口相信很少开发商会委屈的开发这么受限的应用

既然我做不到和微信那么强大，但是如果我能提供一个自由的平台，是不是也是一个卖点。我不是群里 一切从头来 小伙伴，所以上面的内容大家看看就好，接下来还是技术如何做

首先任何的 UWP 程序原本还是文件，而文件本身就可以被下载。开放平台需要提供下载 UWP 应用旁加载包的功能，在下载完成了旁加载应用包之后，通过[加强版在国内分发 UWP 应用正确方式 通过win32安装UWP应用](https://blog.lindexi.com/post/%E5%8A%A0%E5%BC%BA%E7%89%88%E5%9C%A8%E5%9B%BD%E5%86%85%E5%88%86%E5%8F%91-UWP-%E5%BA%94%E7%94%A8%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F-%E9%80%9A%E8%BF%87win32%E5%AE%89%E8%A3%85UWP%E5%BA%94%E7%94%A8.html )的方法给用户添加UWP应用

如我的软件能有很多插件的平台，用户点击插件平台的对应插件，将会从 CDN 下载 UWP 应用安装包，然后后台解压缩，使用 `Add-AppxPackage` 脚本将 UWP 应用安装

可以看到上面步骤没有通过 certutil 安装证书，原因是我认为只有在我平台上线的 UWP 应用才能被我的软件安装，在我平台上线的 UWP 都会安装我的签名，而在我的软件安装的时候就通过管理员权限安装了我的签名，在通过插件下载的 UWP 应用如果用我的签名就不需要重新安装

通过 UWP 的方案能兼顾自由和安全，利用微软搭建的整个 UWP 框架提供的沙盒功能，同时解决微软应用商店无法下载安装问题，解决这个问题也就给了更多开发者提供流量。也就是你赚流量我赚平台的功能，我通过集成你的功能，让我的软件更强大，让我可以抢更多的用户

其实本文写起来会比较我想的少了很多，这个模式只有跑起来才知道

<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。欢迎转载、使用、重新发布，但务必保留文章署名[林德熙](http://blog.csdn.net/lindexi_gd)(包含链接:http://blog.csdn.net/lindexi_gd )，不得用于商业目的，基于本文修改后的作品务必以相同的许可发布。如有任何疑问，请与我[联系](mailto:lindexi_gd@163.com)。  
